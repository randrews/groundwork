#!/usr/bin/ruby

require File.join(File.dirname(__FILE__),"..","lib","groundwork.rb")

begin
  options = Groundwork::parse_options

  raise RuntimeError.new("No command given; use \"groundwork -h\" for help") unless options[:command]

  load File.join(File.dirname(__FILE__),"..","commands",options[:command]+".rb")

  Groundwork::Commands.send options[:command], options[:remainder]
rescue
  puts $!.to_s
end
